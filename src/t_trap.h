// Trap for prepared strings// ï¿½2006 Thomas Resch// www.zippernoise.net// ported to c from Stefan Belbaos's Prepared Piano																									/*																									    *//*-------------------------------------------struct t_trap------------------------------------------*//*	%trap = [0.5 10000000 10000];% each row of this array holds: position along string of rubber, % mass density ratio (rubber/string), fundamental freq. of rubber,														*/#include "t_std.h"typedef struct _t_trap{ //double *trapForce; double trapForce[MAXNUMBEROFSTRINGS]; double trapMassDensityRatio;  // Trap/String... double trapFrequency; // fundamentalFreqTrap double dt; double dt_2; double dx; double w_2; double dt_mul_density_over2; double normTrapIndex; int trapIndex; int trapOn; int NS;   } t_trap;t_trap *t_trap_new(double trapFrequency_, double trapMassDensityRatio_,int NS_);void t_trap_free(t_trap *x);void t_trap_perform(t_trap *x, double ***nextString, double ***string, double ***lastString);void t_trap_set_dxdt(t_trap *x, double dt_, double dx_);void t_trap_calculateTrapIndex(t_trap *x, double normTrapIndex);void t_trap_reset(t_trap *x);void t_trap_setTrapParameters(t_trap *x, double fundamentalFreq, double massDensityRatio);void t_trap_setMassDensityRatio(t_trap *x, double massDensityRatio);void t_trap_setFundamentalFrequency(t_trap *x, double fundamentalFreq);